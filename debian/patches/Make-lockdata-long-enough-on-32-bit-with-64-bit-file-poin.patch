From: Timothy E Baldwin <T.E.Baldwin99@members.leeds.ac.uk>
Date: Sat, 1 Sep 2018 21:37:15 +0100
Subject: Make lockdata long enough on 32-bit with 64-bit file pointers.

Bug: https://github.com/projectatomic/bubblewrap/pull/288
Reviewed-by: cgwalters
Applied-upstream: 0.3.2, commit:5739fa370f108c610b1e12af8cdcfd697b7ecc0d
---
 tests/test-run.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/tests/test-run.sh b/tests/test-run.sh
index e68036d..b883b82 100755
--- a/tests/test-run.sh
+++ b/tests/test-run.sh
@@ -200,7 +200,7 @@ if sys.argv[2] == 'wait':
   locktype = fcntl.F_SETLKW
 else:
   locktype = fcntl.F_SETLK
-lockdata = struct.pack("hhllhh", fcntl.F_WRLCK, 0, 0, 0, 0, 0)
+lockdata = struct.pack("hhqqhh", fcntl.F_WRLCK, 0, 0, 0, 0, 0)
 fd=open(sys.argv[1], 'a')
 try:
   fcntl.fcntl(fd.fileno(), locktype, lockdata)
